<div class="select is-primary">
  <select>
      {% for key, value in tax_results.items %}
        <option>{{ key }}</option>
      {% endfor %}
  </select>
  {% for key, value in tax_results.items %}
    <a href="{% url 'search_results' %}?search_query={{ key | urlencode }}" class="button is-small">{{ key }}</a>
  {% endfor %}
</div>
{# here assign a value into jinja template #}
{% with concept_map=tax_results.cso %}
<div class="concept-map" x-data="conceptMap()" x-on:wheel.prevent="zoom">
    <div :style="transform">
        <div class="concept-map__row">
            {% for parent in tax_result.subparents %}
                <a href="{% url 'search_results' %}?search_query={{ parent.text | urlencode }}" class="button is-small" data-currentid="{{ parent.id }}" data-childrenid="{{ parent.children_ids }}" data-parent="{{ parent.id }}">{{ parent.text }}</a>
            {% endfor %}
        </div>

        <canvas width="1" height="30" x-ref="parentsSubParents"></canvas>

        <div class="concept-map__row">
            {% for parent in tax_result.parents %}
                <a href="{% url 'search_results' %}?search_query={{ parent.text | urlencode }}" class="button" data-currentid="{{ parent.id }}" data-childrenid="{{ parent.children_ids }}" data-parentid="{{ parent.parent_ids }}" data-parent="0">{{ parent.text }}</a>
            {% endfor %}
        </div>

        <canvas width="1" height="30" x-ref="conceptParents"></canvas>

        <div class="concept-map__row">
            <a href="{% url 'search_results' %}?search_query={{ tax_result.concept.text | urlencode }}" class="button is-medium" data-currentid="{{ tax_result.concept.id }}" data-childrenid="{{ tax_result.concept.children_ids }}" data-parentid="{{ tax_result.concept.parent_ids }}" data-parent="0">{{ tax_result.concept.text }}</a><br>
        </div>

        <canvas width="1" height="30" x-ref="conceptChildren"></canvas>

        <div class="concept-map__row">
            {% for child in tax_result.children %}
                <a href="{% url 'search_results' %}?search_query={{ child.text | urlencode }}" class="button" data-currentid="{{ child.id }}" data-childrenid="{{ child.children_ids }}" data-parentid="{{ child.parent_ids }}" data-parent="0">{{ child.text }}</a>
            {% endfor %}
        </div>

        <canvas width="1" height="30" x-ref="childrenSubChildren"></canvas>

        <div class="concept-map__row">
            {% for child in tax_result.subchildren %}
                <a href="{% url 'search_results' %}?search_query={{ child.text | urlencode }}" class="button is-small" data-currentid="{{ child.id }}" data-childrenid="{{ child.children_ids }}" data-parentid="{{ child.parent_ids }}" data-parent="{{ forloop.parentloop.counter0 }}">{{ child.text }}</a>
            {% endfor %}
        </div>
    </div>
</div>
{% endwith %}
